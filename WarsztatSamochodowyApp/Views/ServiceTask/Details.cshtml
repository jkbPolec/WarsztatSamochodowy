@model WarsztatSamochodowyApp.Models.ServiceTask

@{
    ViewData["Title"] = "Service Task Details";
}

<h2>Service Task Details</h2>

<div>
    <h4>@Model.Name</h4>
    <p><strong>Description:</strong> @Model.Description</p>
    <p><strong>Price:</strong> @Model.Price.ToString("C")</p>
</div>

<h4>Used Parts</h4>
@if (Model.UsedParts != null && Model.UsedParts.Any())
{
    <table class="table table-bordered">
        <thead>
        <tr>
            <th>Part Name</th>
            <th>Quantity</th>
            <th>Unit Price</th>
            <th>Total Price</th>
        </tr>
        </thead>
        <tbody>
        @foreach (var usedPart in Model.UsedParts)
        {
            <tr>
                <td>@usedPart.Part?.Name</td>
                <td>@usedPart.Quantity</td>
                <td>@usedPart.Part?.Price.ToString("C")</td>
                <td>@((usedPart.Quantity * (usedPart.Part?.Price ?? 0)).ToString("C"))</td>

            </tr>
        }
        </tbody>
    </table>
}
else
{
    <p>No parts used in this service task.</p>
}

<a asp-action="Index" class="btn btn-secondary">Back to List</a>
